<!doctype html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}DataCraft Studio – Christophe CAKPO{% endblock %}</title>

  <!-- Favicon & Fonts -->
  <link rel="icon" href="{{ url_for('static', filename='img/logo.svg') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=JetBrains+Mono:wght@400;500&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"> -->
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='css/datacraft-studio.css') }}"> -->
  <link rel="preload"
      href="{{ url_for('static', filename='css/datacraft-studio.min.css') }}?v=4"
      as="style">
  <link rel="stylesheet"
      href="{{ url_for('static', filename='css/datacraft-studio.min.css') }}?v=4"
      media="all">
  {% block extra_head %}{% endblock %}

  <!-- Scripts globaux -->
  <script defer src="{{ url_for('static', filename='js/theme.js') }}"></script>
</head>

<body>
<header class="header">
  <div class="container header__inner">
    <!-- Brand -->
    <div class="brand">
      <img src="{{ url_for('static', filename='img/logo.svg') }}" alt="DataCraft logo" height="28">
      <strong>DataCraft Studio</strong>
    </div>

    {# endpoint courant pour l’état actif #}
    {% set ep = (request.endpoint or '') %}

    <!-- Bouton menu (mobile) -->
    <div class="menu-toggle" onclick="document.querySelector('.nav-pills').classList.toggle('active')" role="button" aria-label="Ouvrir/fermer le menu" aria-controls="main-nav" aria-expanded="false">
      <svg viewBox="0 0 24 24" width="28" height="28" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
    </div>

    <!-- Navigation -->
    <nav id="main-nav" class="nav-pills" aria-label="Navigation principale">
      <a class="pill {{ 'active' if ep=='pages.index' else '' }}" href="{{ url_for('pages.index') }}">
        <span class="pill__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M3 10.5 12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-7H9v7H4a1 1 0 0 1-1-1v-10.5Z"/></svg>
        </span>
        <span>Accueil</span>
      </a>

      <a class="pill {{ 'active' if ep=='pages.apropos' else '' }}" href="{{ url_for('pages.apropos') }}">
        <span class="pill__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5Zm0 2c-5 0-9 2.5-9 5v2h18v-2c0-2.5-4-5-9-5Z"/></svg>
        </span>
        <span>À propos</span>
      </a>

      <a class="pill {{ 'active' if ep=='pages.projets' else '' }}" href="{{ url_for('pages.projets') }}">
        <span class="pill__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M3 6h6l2 2h10v10a2 2 0 0 1-2 2H3Z"/><path d="M3 6v12a2 2 0 0 0 2 2h14"/></svg>
        </span>
        <span>Projets</span>
      </a>

      <a class="pill {{ 'active' if ep=='pages.services' else '' }}" href="{{ url_for('pages.services') }}">
        <span class="pill__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M13 2 3 14h8l-1 8 11-14h-8l0-6Z"/></svg>
        </span>
        <span>Service</span>
      </a>

      <a class="pill {{ 'active' if ep.startswith('contact.') else '' }}" href="{{ url_for('contact.form') }}">
        <span class="pill__icon" aria-hidden="true">
          <svg viewBox="0 0 24 24"><path d="M3 5h18v14H3z"/><path d="m3 7 9 6 9-6"/></svg>
        </span>
        <span>Contact</span>
      </a>
    </nav>
  </div>
</header>

<main class="container" style="padding:28px 0">
  {% block flash_area %}
    {% include "_flash.html" %}
  {% endblock %}

  {% block content %}{% endblock %}
</main>

<footer>
  <div class="container">
    © <span id="y"></span> DataCraft Studio — Christophe CAKPO
  </div>
  <script>
    // année dynamique
    document.getElementById('y').textContent = new Date().getFullYear();

    // Accessibilité : ferme le menu après clic sur un lien (mobile)
    const nav = document.querySelector('.nav-pills');
    nav?.querySelectorAll('a').forEach(a => {
      a.addEventListener('click', () => nav.classList.remove('active'));
    });
  </script>
</footer>
</body>
</html>